# Unity HTML5 è§†é¢‘æ’­æ”¾å™¨

è½»é‡ä¸”æ˜“ç”¨çš„è§†é¢‘æ’­æ”¾ç®¡ç†å™¨ï¼Œé€‚ç”¨äºä½¿ç”¨ [AVPro Video](https://www.renderheads.com/content/apis/) çš„ Unity é¡¹ç›®ã€‚å¯ç®¡ç†å¤šä¸ªç‹¬ç«‹çš„è§†é¢‘ç»„ï¼Œå¹¶é€šè¿‡ UI æŒ‰é’®å¯¹å„ç»„è¿›è¡Œæ’­æ”¾ã€æš‚åœå’Œåœæ­¢æ§åˆ¶ã€‚

## ç‰¹æ€§

âœ¨ **å¤šè§†é¢‘æ”¯æŒ** - åŒæ—¶ç®¡ç†å¤šä¸ªè§†é¢‘ç»„  
ğŸ® **ç®€å•çš„ UI é›†æˆ** - å¯åœ¨ Inspector ä¸­ç›´æ¥ç»‘å®šæŒ‰é’®  
âš¡ **å¼‚æ­¥åŠ è½½** - éé˜»å¡çš„è§†é¢‘åˆå§‹åŒ–  
ğŸ›¡ï¸ **å¥å£®çš„é”™è¯¯å¤„ç†** - å®Œæ•´çš„æ ¡éªŒä¸æ—¥å¿—è®°å½•  
ğŸ“‹ **è‰¯å¥½æ³¨é‡Š** - æä¾›å®Œæ•´ XML æ–‡æ¡£ä»¥æ”¯æŒ IntelliSense  
ğŸ¯ **å¯ç”¨äºç”Ÿäº§** - åŒ…å«è‡ªåŠ¨æ¸…ç†ä¸å®‰å…¨æ£€æŸ¥  

## è¦æ±‚

- **Unity 2020.3+**ï¼ˆæˆ–ä»»ä½•æ”¯æŒ AVPro Video çš„ç‰ˆæœ¬ï¼‰
- **AVPro Video æ’ä»¶** - å¿…é¡»åœ¨é¡¹ç›®ä¸­å®‰è£…
- è§†é¢‘æ–‡ä»¶åº”æ”¾ç½®äº `StreamingAssets` æ–‡ä»¶å¤¹ä¸­

## å®‰è£…

1. å°† `HTML5VideoPlayer.cs` å¤åˆ¶åˆ°é¡¹ç›®çš„ `Assets/Scripts` æ–‡ä»¶å¤¹
2. ç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½ AVPro Video æ’ä»¶
3. å°†è¯¥è„šæœ¬é™„åŠ åˆ°åœºæ™¯ä¸­çš„ä»»æ„ GameObject

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬è®¾ç½®

1. **åˆ›å»º GameObject** å¹¶æ·»åŠ  `HTML5VideoPlayer` ç»„ä»¶
2. **åœ¨ Inspector ä¸­é…ç½®è§†é¢‘ç»„**ï¼š
   - è®¾ç½®æ‰€éœ€çš„è§†é¢‘ç»„æ•°é‡
   - å¯¹äºæ¯ä¸ªè§†é¢‘ç»„ï¼š
     - æŒ‡å®š **æ’­æ”¾æŒ‰é’®**ï¼ˆUI Buttonï¼‰
     - æŒ‡å®š **æš‚åœæŒ‰é’®**ï¼ˆUI Buttonï¼‰
     - æŒ‡å®š **åœæ­¢æŒ‰é’®**ï¼ˆUI Buttonï¼‰
     - æŒ‡å®š **MediaPlayer**ï¼ˆAVPro Video çš„ MediaPlayer ç»„ä»¶ï¼‰
     - æŒ‡å®š **DisplayUGUI**ï¼ˆAVPro Video çš„ DisplayUGUI ç»„ä»¶ï¼‰
     - è®¾ç½® **è§†é¢‘æ–‡ä»¶å**ï¼ˆç›¸å¯¹äº StreamingAssets æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼‰

3. **å°†è§†é¢‘æ”¾ç½®åœ¨** `Assets/StreamingAssets/` **ç›®å½•ä¸‹**

### Inspector ç¤ºä¾‹é…ç½®

```
HTML5VideoPlayer (ç»„ä»¶)
â”œâ”€ è§†é¢‘ç»„åˆ—è¡¨
â”‚  â”œâ”€ [0]
â”‚  â”‚  â”œâ”€ æ’­æ”¾æŒ‰é’®: [UI æŒ‰é’®å¼•ç”¨]
â”‚  â”‚  â”œâ”€ æš‚åœæŒ‰é’®: [UI æŒ‰é’®å¼•ç”¨]
â”‚  â”‚  â”œâ”€ åœæ­¢æŒ‰é’®: [UI æŒ‰é’®å¼•ç”¨]
â”‚  â”‚  â”œâ”€ åª’ä½“æ’­æ”¾å™¨: [MediaPlayer å¼•ç”¨]
â”‚  â”‚  â”œâ”€ æ˜¾ç¤ºç»„ä»¶: [DisplayUGUI å¼•ç”¨]
â”‚  â”‚  â””â”€ è§†é¢‘æ–‡ä»¶å: "myvideo.mp4"
â”‚  â””â”€ [1]
â”‚     â””â”€ [ç¬¬äºŒä¸ªè§†é¢‘çš„ç±»ä¼¼é…ç½®]
```

## API å‚è€ƒ

### å…¬å¼€æ–¹æ³•

#### `PlayVideo(int groupIndex)`
æ’­æ”¾æŒ‡å®šè§†é¢‘ç»„çš„è§†é¢‘ã€‚ä¼šè‡ªåŠ¨åœæ­¢å…¶ä»–æ­£åœ¨æ’­æ”¾çš„è§†é¢‘ä»¥é¿å…é‡å ã€‚

```csharp
videoPlayer.PlayVideo(0); // æ’­æ”¾ç¬¬ä¸€ä¸ªè§†é¢‘ç»„
```

#### `PauseVideo(int groupIndex)`
æš‚åœæŒ‡å®šè§†é¢‘ç»„çš„è§†é¢‘ã€‚

```csharp
videoPlayer.PauseVideo(0); // æš‚åœç¬¬ä¸€ä¸ªè§†é¢‘ç»„
```

#### `StopVideo(int groupIndex)`
åœæ­¢è§†é¢‘å¹¶å°†æ’­æ”¾ä½ç½®é‡ç½®åˆ°å¼€å¤´ã€‚

```csharp
videoPlayer.StopVideo(0); // åœæ­¢ç¬¬ä¸€ä¸ªè§†é¢‘ç»„
```

#### `GetVideoGroupCount()`
è¿”å›å·²é…ç½®çš„è§†é¢‘ç»„æ€»æ•°ã€‚

```csharp
int count = videoPlayer.GetVideoGroupCount();
```

#### `IsVideoGroupLoaded(int groupIndex)`
æ£€æŸ¥æŒ‡å®šçš„è§†é¢‘ç»„æ˜¯å¦å·²æˆåŠŸåŠ è½½ã€‚

```csharp
if (videoPlayer.IsVideoGroupLoaded(0))
{
    Debug.Log("è§†é¢‘ 0 å·²åŠ è½½ï¼Œå‡†å¤‡å°±ç»ª");
}
```

## é«˜çº§ç”¨æ³•

### ç¼–ç¨‹æ§åˆ¶

```csharp
public class VideoController : MonoBehaviour
{
    [SerializeField] private HTML5VideoPlayer videoPlayer;
    
    public void OnPlayButtonClicked()
    {
        videoPlayer.PlayVideo(0);
    }
    
    public void OnPauseButtonClicked()
    {
        videoPlayer.PauseVideo(0);
    }
    
    public void OnStopButtonClicked()
    {
        videoPlayer.StopVideo(0);
    }
}
```

### æ£€æŸ¥è§†é¢‘çŠ¶æ€

```csharp
// æ£€æŸ¥æ‰€æœ‰è§†é¢‘æ˜¯å¦å·²åŠ è½½
for (int i = 0; i < videoPlayer.GetVideoGroupCount(); i++)
{
    if (videoPlayer.IsVideoGroupLoaded(i))
    {
        Debug.Log($"è§†é¢‘ {i} å·²åŠ è½½å¹¶å‡†å¤‡å°±ç»ª");
    }
}
```

## è§†é¢‘æ–‡ä»¶è·¯å¾„è¯´æ˜

- è§†é¢‘æ–‡ä»¶åº”æ”¾ç½®äº `Assets/StreamingAssets/`
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„ä¸”ä¸è¦åŒ…å« `StreamingAssets/` å‰ç¼€
- ç¤ºä¾‹ï¼šè‹¥è§†é¢‘ä½äº `Assets/StreamingAssets/videos/intro.mp4`ï¼Œåˆ™å°†æ–‡ä»¶åè®¾ç½®ä¸º `videos/intro.mp4`
- æ”¯æŒçš„æ ¼å¼å–å†³äºè¿è¡Œå¹³å°å’Œ AVPro Video çš„é…ç½®

## æ•…éšœæ’æŸ¥

### è§†é¢‘æœªåŠ è½½

1. **æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—** - æŸ¥æ‰¾ä»¥ `[HTML5VideoPlayer]` ä¸ºå‰ç¼€çš„é”™è¯¯ä¿¡æ¯
2. **ç¡®è®¤æ–‡ä»¶è·¯å¾„** - ç¡®ä¿è§†é¢‘æ–‡ä»¶ä½äº `StreamingAssets` æ–‡ä»¶å¤¹
3. **æ£€æŸ¥ AVPro è®¾ç½®** - ç¡®ä¿ AVPro Video æ­£ç¡®é…ç½®
4. **éªŒè¯å¼•ç”¨** - ç¡®ä¿ Inspector ä¸­çš„å¼•ç”¨å·²æ­£ç¡®åˆ†é…ï¼ˆæ— ç©ºå¼•ç”¨ï¼‰

### å¸¸è§é—®é¢˜

| é—®é¢˜ | è§£å†³æ–¹æ³• |
|-------|----------|
| "VideoGroup X æœªé…ç½® MediaPlayer" | åœ¨ Inspector ä¸­ä¸ºè¯¥è§†é¢‘ç»„åˆ†é… MediaPlayer ç»„ä»¶ |
| "æ‰“å¼€è§†é¢‘å¤±è´¥" | æ£€æŸ¥è§†é¢‘æ–‡ä»¶è·¯å¾„ï¼Œç¡®ä¿æ–‡ä»¶å­˜åœ¨äº StreamingAssets ä¸­ |
| è§†é¢‘æœªæ˜¾ç¤º | åˆ†é… DisplayUGUI ç»„ä»¶å¹¶ç¡®ä¿ UI Canvas é…ç½®æ­£ç¡® |
| æŒ‰é’®æ— å“åº” | ç¡®è®¤æŒ‰é’®å·²åˆ†é…ä¸”åœ¨å±‚çº§ä¸­æœªè¢«ç¦ç”¨ |

## æ€§èƒ½æ³¨æ„äº‹é¡¹

- åœ¨åŠ è½½ç”»é¢æœŸé—´åˆå§‹åŒ–è§†é¢‘ä»¥è·å¾—æ›´å¹³æ»‘çš„æ’­æ”¾ä½“éªŒ
- é¿å…åŒæ—¶åŠ è½½è¿‡å¤šè§†é¢‘
- ä½¿ç”¨å‹ç¼©è§†é¢‘æ ¼å¼ä»¥æé«˜æ€§èƒ½
- è€ƒè™‘å¹³å°ç‰¹å®šçš„è§†é¢‘ç¼–è§£ç å™¨ï¼ˆå¦‚ H.264ã€VP8 ç­‰ï¼‰

## è®¸å¯è¯

æœ¬è„šæœ¬æŒ‰åŸæ ·æä¾›ä»¥ä¾›åœ¨ Unity é¡¹ç›®ä¸­ä½¿ç”¨ã€‚å¯æ ¹æ® MIT è®¸å¯è¿›è¡Œè‡ªç”±ä¿®æ”¹å’Œåˆ†å‘ã€‚

## æ›´æ–°æ—¥å¿—

### ç‰ˆæœ¬ 1.0.0 (2026-01-19)
- åˆå§‹å‘å¸ƒ
- æ”¯æŒå¤šä¸ªè§†é¢‘ç»„
- æ’­æ”¾/æš‚åœ/åœæ­¢ æ§åˆ¶
- å¸¦æ ¡éªŒçš„å¼‚æ­¥åŠ è½½
- å®Œæ•´çš„é”™è¯¯å¤„ç†
- å®Œæ•´çš„ API æ–‡æ¡£

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜ã€ç–‘é—®æˆ–åŠŸèƒ½è¯·æ±‚ï¼Œè¯·åœ¨ä»“åº“ä¸­æ‰“å¼€ Issueã€‚

---

**æ³¨æ„ï¼š** æœ¬è„šæœ¬æ—¨åœ¨ä½œä¸ºè§†é¢‘æ’­æ”¾ç®¡ç†çš„è¾…åŠ©å·¥å…·ã€‚æœ‰å…³ AVPro Video çš„é«˜çº§åŠŸèƒ½ï¼Œè¯·å‚è€ƒ [å®˜æ–¹æ–‡æ¡£](https://www.renderheads.com/content/documentation/)ã€‚
